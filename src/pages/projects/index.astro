---
import MainLayout from "../../layouts/MainLayout.astro";
import { getCollection } from "astro:content";
import ProjectItem from "@/components/ProjectItem.astro";

const projects = await getCollection("projects");
---

<MainLayout title="Hieu Nguyen - Projects">
  <div class="mb-16">
    <h1 class="text-4xl mb-4 md:text-3xl">Projects</h1>
    <p class="leading-relaxed">
      Some are from school and some are side projects on my own time.
    </p>
  </div>

  <div class="mb-12">
    <h1 class="font-bold text-2xl mb-4">Current:</h1>
    {
      projects
        .filter(project => project.data.status === 'in-progress').length === 0 ?
        <p class="text-dark/75 dark:text-light/75">No current projects.</p> :
        projects
          .filter((project) => project.data.status === "in-progress")
          .map((project) => (
            <div class="ml-8">
              <ProjectItem project={project} />
            </div>
          ))
    }
  </div>

  <div>
    <h1 class="font-bold text-2xl mb-4">Past:</h1>
    {
      projects
        .filter(project => project.data.status === 'completed').length === 0 ?
        <p class="text-gray-500">No current projects.</p> :
        projects
          .filter((project) => project.data.status === "completed")
          .map((project) => (
            <div class="ml-8">
              <ProjectItem project={project} />
            </div>
          ))
    }
  </div>
</MainLayout>
